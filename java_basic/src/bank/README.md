## Bank 프로젝트 업데이트 내역
 >  **마지막 업데이트 : 25.03.13**
---
[Bank v7.0 결과물 유튜브 링크](https://www.youtube.com/watch?v=3mcZiNizd04)

[![Python Tutorial](https://img.youtube.com/vi/3mcZiNizd04/0.jpg)](https://www.youtube.com/watch?v=3mcZiNizd04)

## 자바는 얼마나 보안이 좋을까? : 
- **테스트 시나리오1** : 입력창에 주석문(`//` , `/* */`) 같이 비정상적인 값을 입력하여 프로그램 무력화 시도
  - **원리** : SQL 인젝션 공격과 비슷한 방식의 입력값 조작 공격 시도
  - **조건** : 데이터는 db가 아닌 배열에 저장, 다른언어 사용 안하고 only 자바, 이클립스 ide환경에서 입출력이 콘솔창에서만 실행됨
  - **테스트1** : `//` , `/* */`, `// 값`, `/* 값 */`
    - 문자열로 인식하여 프로그램 정상적으로 실행
  - **결론** : 문자열로 인식하여 프로그램 정상적으로 실행 <br></br>
- **테스트 시나리오2** : 입력값이 메모리가 감당 못할정도록 길게 작성
  - **원리** : 값이 지나치게 많거나 길면 느려지거나 멈출 거 같음
  - **테스트 시도 못하겠음** : 컴퓨터 멈출까봐 무섭다
  - **결론** : 예외처리하면 될 거 같음, 그래도 이런 나쁜놈들 잡는 버릇 만들기 위해 나중에 java 익숙해지면 공격시도나 에러 발생 시 로그파일에 쓰기 
---

## 🔹 **버전별 업데이트 내역**

### Bank v1.0  
- bank 전체적인 컨트롤 파트 틀 구현  

### Bank v2.0  
- 유저 정보 저장 방식을 **전역변수 → 1차원 배열**로 수정  
- 중복된 코드 제거 (제어문 활용)  

### Bank v3.0  
- 로그인 입력 중복 코드 제거  

### Bank v4.0  
- **메뉴 기능 추가**  
  - 사용자가 원하는 기능을 선택할 수 있도록 메뉴 추가  
  - `switch-case` 문을 활용하여 기능을 분리  
- **계좌 조회 기능 추가**  

### Bank v5.0  
- **출금 기능 추가**  
  - 사용자의 계좌 잔액을 확인한 후 출금 가능하도록 구현  
  - 잔액 부족 시 출금 불가능하도록 예외 처리 추가  

### Bank v6.0  
- **기능별 클래스로 분리**  
  - `Login`, `AccountView`, `Deposit`, `Withdraw`, `AccountDelete` 등 기능별 클래스로 나눔  
- **2차원 배열로 데이터 구조 변경**  
  - 기존 1차원 배열에서 2차원 배열로 변경하여 유저 데이터를 더 효율적으로 관리  
- **메소드 재구성 및 코드 최적화**  
  - 중복 코드 제거 및 캡슐화를 적용하여 유지보수성을 높임  

### Bank v7.0 (인터페이스 적용 전 마지막 bank)  
- 기존 bank 시스템 유지  

### Bank v7.1 (인터페이스 적용 버전)  
- **기능별 클래스를 더욱 세분화**  
  - 입력클래스, 조회클래스, 출금클래스, 삭제클래스, 메뉴로 나눔  
- **캡슐화 적용**  
  - 기존 유저 정보들을 `private`로 변경하여 데이터 보호  
- **회사 정보 추가**  
  - `static String company = "(주)회사"` 추가  
- **Bank_Controller 인터페이스 도입**  
  - 모든 기능 클래스들이 이 인터페이스를 구현  

### Bank v7.2 (최신 업데이트)  
- 기존 Bank v7.0에 있던 **로그인 로직을 재구현**  
- 프로그램 종료 시 `return;`을 사용하여 프로그램 종료 시키는 형식으로 수정 & `sc.close()`
- menu7에서 만약 사용자가 메뉴를 고를 때 숫자가 아닌 다른 값을 입력할 경우 대비하여 예외처리 추가
   
---

## 🔍 **트러블슈팅 (Troubleshooting)**

### 🛠 **Bank v2.0 - 유저 정보 저장 방식 변경 이슈**  
**문제:**  
- v1.0에서는 유저 정보를 `전역 변수`로 선언하여 관리했으나,  
  데이터 증가 시 메모리 낭비 & 유지보수가 어려워짐.  

**해결:**  
- `1차원 배열`로 변경하여 메모리 사용 최적화.  
- 기존 중복된 변수 선언 제거, 루프를 활용한 동적 할당 적용.  

---  

### 🛠 **Bank v3.0 - 로그인 중복 코드 문제**  
**문제:**  
- 기존 로그인 로직에서 아이디와 비밀번호 검증 코드가 중복됨.  
- `for` 문 안에서 동일한 검증을 반복하여 불필요한 연산 발생.  

**해결:**  
- `if` 조건을 최적화하고, 로그인 검증을 별도의 메소드로 분리하여 유지보수성 향상.  

---  

### 🛠 **Bank v5.0 - 출금 기능 예외 처리 추가**  
**문제:**  
- 사용자가 출금 요청 시, 잔액이 부족해도 오류 메시지 없이 차감 진행됨.  
- 음수 잔액이 발생하는 버그 확인.  

**해결:**  
- `if (balance >= withdrawAmount)` 조건 추가하여 출금 가능 여부 검증.  
- 부족할 경우 `"잔액 부족"` 메시지를 출력하고, 출금이 진행되지 않도록 수정.  

---  

### 🛠 **Bank v6.0 - 기능별 클래스로 분리 중 참조 오류 발생**  
**문제:**  
- v6.0에서 기능별 클래스를 분리하면서, `Login`, `Deposit`, `Withdraw` 등의 클래스 간 데이터 공유 문제 발생.  
- 기존 1차원 배열에서 2차원 배열(`String[][] userData`)로 변경하는 과정에서,  
  일부 메소드에서 잘못된 인덱싱 오류 발생 (`IndexOutOfBoundsException`).  

**해결:**  
- 각 클래스의 메소드에 `userData` 배열을 **매개변수로 전달하는 방식**으로 수정.  
- `userData[i][3] = String.valueOf(money);` 형태로 데이터를 변환하여 올바르게 참조하도록 수정.  

---  

### 🛠 **Bank v7.1 - 인터페이스 적용 중 다형성 오류 발생**  
**문제:**  
- `Bank_Controller` 인터페이스를 도입하면서,  
  기존 `Bank7` 클래스와의 구조적 충돌 발생.  
- `메소드 오버라이딩` 시 `@Override` 어노테이션 누락으로 예상과 다른 동작 발생.  

**해결:**  
- 모든 기능 클래스를 `Bank_Controller` 인터페이스를 **구현(implements)** 하도록 변경.  
- `@Override` 어노테이션을 명확히 추가하여 상속 관계에서 정상 동작하도록 수정.  

---  

### 🛠 **Bank v7.2 - 로그인 로직 재구현 중 Scanner 리소스 누수**  
**문제:**  
- `Scanner` 객체를 여러 클래스에서 중복 생성하여 리소스 누수 발생.  
- 프로그램 종료 시 `Scanner`가 닫히지 않아 경고 메시지 발생.  

**해결:**  
- `Menu7` 클래스에서 `Scanner` 객체를 한 번만 생성하고,  
  각 기능별 클래스에서 **매개변수로 전달**하여 재사용하도록 변경 필요  
- 필요 시 `scanner.close();`를 명확히 호출하여 리소스 누수 방지 필요  

