# 정규화 (Normalization) - NF 개념 정리

---

## 1. 정규화(Normalization)란?

- 데이터베이스에서 **중복을 제거하고**,  
- **이상(Anomaly)** 을 방지하기 위해  
- 테이블을 **최적화**하는 과정.

---

# ✅ 1NF (제1정규형)

### 조건
- **모든 컬럼은 원자값(Atomic Value)** 을 가져야 한다.
- 하나의 셀(칸)에 **값이 여러 개 들어가면 안 된다.**

### 쉽게 말하면
- 테이블 안에 리스트, 배열, 중복 값이 있으면 안 된다.

### 예시
| 학번 | 이름 | 수강과목 |
|:--|:--|:--|
| 1 | 홍길동 | 수학, 영어 |

> ❌ 수강과목이 여러 개.  
> → 수학, 영어 따로 분리해야 1NF 만족.

---

# ✅ 2NF (제2정규형)

### 조건
- **1NF를 만족**해야 한다.
- 그리고 **부분 함수 종속**을 제거해야 한다.
  - 기본키 일부에만 종속된 컬럼이 있으면 안 된다.

### 쉽게 말하면
- 복합키(키 2개 이상)라면,  
  **모든 속성이 기본키 전체에 종속**되어야 한다.

### 예시
| 학번 | 과목명 | 교수명 |
|:--|:--|:--|
| 1 | 수학 | 김교수 |

> 교수명은 과목명만 알면 결정된다.  
> → 과목 테이블로 따로 빼야 2NF 만족.

---

# ✅ 3NF (제3정규형)

### 조건
- **2NF를 만족**해야 한다.
- 그리고 **이행 함수 종속(Transitive Dependency)** 을 제거해야 한다.
  - 키 → 일반 속성 → 또 다른 일반 속성 관계가 있으면 안 된다.

### 쉽게 말하면
- 일반 컬럼이 다른 일반 컬럼에 의존하면 안 된다.

### 예시
| 학번 | 이름 | 학과코드 | 학과이름 |
|:--|:--|:--|:--|
| 1 | 홍길동 | CS | 컴퓨터공학과 |

> 학과코드만 알면 학과이름 알 수 있다.  
> → 학과 테이블로 따로 빼야 3NF 만족.

---

# ✅ BCNF (보이스-코드 정규형)

### 조건
- **3NF를 만족**해야 한다.
- 그리고 **모든 결정자(Determiner)가 후보키** 여야 한다.

### 쉽게 말하면
- 후보키가 아닌 컬럼이 다른 컬럼을 결정하면 안 된다.

### 예시
- 복합키 아닌 컬럼이 다른 컬럼을 결정하면 분리.

---

# ✅ 4NF (제4정규형)

### 조건
- **다치 종속(Multi-valued Dependency)** 을 제거해야 한다.
- 하나의 레코드에 **서로 독립적인 여러 리스트(컬렉션)** 가 있으면 분리.

### 쉽게 말하면
- 교수, 과목, 교재처럼 독립적인 여러 리스트가 하나 테이블에 있으면 안 된다.

### 예시
| 교수명 | 과목명 | 교재명 |
|:--|:--|:--|
| 김교수 | 수학 | 교재1 |
| 김교수 | 영어 | 교재2 |

> 과목과 교재는 독립적이므로 따로 분리.

---

# ✅ 5NF (제5정규형, PJ/NF)

### 조건
- **조인 종속(Join Dependency)** 을 제거해야 한다.
- 잘못 분리된 테이블을 조인해야만 원래 데이터가 복원되는 문제를 없앤다.

### 쉽게 말하면
- 테이블을 잘못 분리해서 조인해야만 제대로 되는 경우를 막는다.

### 예시
- 다대다 관계가 여러 조합으로 발생할 때.

---

# 📢 최종 요약표

| 정규형 | 목표 | 쉽게 말하면 |
|:--|:--|:--|
| 1NF | 원자값만 허용 | 셀에 값 하나만 넣기 |
| 2NF | 부분 종속 제거 | 복합키 일부에만 종속된 컬럼 제거 |
| 3NF | 이행 종속 제거 | 일반 컬럼 간
